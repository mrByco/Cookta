<div class="row">
  <!--  <div class="col-3"></div>-->
  <div class="col-3">
    <button type="button" mdbBtn (click)="AddCurrentMealToDay()"
            [color]="MenuDayComponent.SelectedItem ? 'green': 'orange'"
            style="width: 100%; padding: 1rem 0 1rem 0">{{MealName}}</button>
  </div>
  <div class="col-9">
    <div class="row" style="height: 100%">
      <a class="meal-panel" *ngFor="let meal of displayMeals"
         [ngClass]="{
         'bcg-red': meal.sourceMeal.type != 'final',
         'bcg-green': meal.sourceMeal.type == 'final',
         'hover': DoseEdit.displayMeal == meal}">

        <img src="{{GetFoodUrl(meal.ObjFood)}}">
        <div class="meal-panel-overlay">
          <h6>{{meal.ObjFood.name}}</h6>

          <a *ngIf="meal.sourceMeal.type == 'tag'" (click)="RefreshMeal(meal)">
            <img class="icon bottom-right" [ngClass]="{'refresh-icon-loading': meal.Refreshing}"
                 src="assets/refresh-icon.png">
          </a>

          <a (click)="DeleteMeal(meal)">
            <img class="icon right-top" src="assets/trash-icon.png">
          </a>

          <a (click)="FinalizeMeal(meal)">
            <img class="icon left-top"
                 src="assets/finalize-icon.png"
                 [ngClass]="{'unpinned': meal.sourceMeal.type != 'final', 'pinned': meal.sourceMeal.type == 'final'}">
          </a>

          <a class="icon bottom-right" style="width: auto; color: white" (click)="EditDoseFor(meal)"
             *ngIf="meal.sourceMeal.type == 'final'">
            <p>
              {{meal.sourceMeal.dose}}
              <mdb-icon fas class="white-text" icon="user"></mdb-icon>
            </p>
          </a>

          <div class="dropdown-menu" [ngClass]="{'show': DoseEdit.displayMeal == meal}"
               (mouseleave)="DoseEdit.displayMeal = undefined">
            <form class="px-4 py-3" [formGroup]="doseForm" (ngSubmit)="SetMealDose(doseForm.value, meal)">
              <div class="form-group">
                <input type="number" class="form-control" id="dose" formControlName="dose" placeholder="4">
              </div>
              <button type="submit" class="btn btn-primary">Beállítás</button>
            </form>
          </div>
        </div>
      </a>
    </div>

  </div>
</div>
