<div class="container-fluid">
  <h3>Storage</h3>
  <div class="row">
    <div class="col-9 masonry-with-columns-2" #masonry>
      <app-storage-section *ngFor="let section of stockService.Sections"
                           [SelectedItems]="SelectedItems" [CurrentSection]="section"
                           class="masonry-item"></app-storage-section>
    </div>
  </div>
</div>
<button style="position: absolute; right: 2rem; bottom: 2rem;" mdbBtn size="small" color="blue"
        [disabled]="ButtonLoading"
        (click)="AddNewSection()">
  {{ButtonLoading ? '' : 'Új szekció'}}

  <div *ngIf="ButtonLoading" class="spinner-border text-light" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</button>
<button style="position: absolute; right: 2rem; top: 7rem;" mdbBtn size="small" color="green"
        (click)="ShowModal()">
  Mit vettél?
</button>


<div mdbModal #AddIngModal class="modal fade right" tabindex="-1" role="dialog" aria-hidden="true"
     [config]="{backdrop: true, ignoreBackdropClick: true}">
  <div class="modal-dialog modal-side modal-top-right" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="AddIngModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Mit vettél?</h4>
      </div>
      <div class="modal-body">
        <app-ingredient-adder
          #ingredientAdder
          (OnIngredientAdded)="AddIngredientToSection($event)">
        </app-ingredient-adder>
        <hr>
        <a *ngIf="ingredientAdder.CurrentType != null && stockService.FindStorageByIngredientType(ingredientAdder.CurrentType.guid) &&
             ingredientAdder.CurrentType != null && stockService.FindStorageByIngredientType(ingredientAdder.CurrentType.guid) != SelectedSection"
           (click)="SelectedSection = ingredientAdder.CurrentType != null && stockService.FindStorageByIngredientType(ingredientAdder.CurrentType.guid)"
           style="color: dodgerblue; margin-bottom: 1rem">
          `Ez már be van írva: {{stockService.FindStorageByIngredientType(ingredientAdder.CurrentType.guid).GetDisplayName()}}-tárolóba,
          kattints ide átváltáshoz
        </a>
        <div class="row">
          <div class="col-auto">
            <h6 style="margin-top: 10px">Pakolás helye: </h6>
          </div>
          <div class="col">
            <select class="browser-default custom-select " style="width: 100%" [(ngModel)]="this.SelectedSection">
              <option *ngFor="let section of stockService.Sections" [selected]="SelectedSection == section"
                      [ngValue]="section">
                {{section.GetDisplayName()}}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



