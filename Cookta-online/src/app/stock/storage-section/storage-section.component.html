<div class="pt-2" style="height: calc(var(--MainContentSize) - 6.2rem); width: 100%;">
  <h2 *ngIf="!CurrentSection">Loading</h2>
  <div *ngIf="CurrentSection" style="height: 100%">
    <a *ngIf="SelectedItems.length > 0" style="color: blue">Kijelöltek áthelyezése ide</a>
    <div class="d-flex" style="position: relative">
      <h2 *ngIf="!ModifiedFields">{{CurrentSection.GetDisplayName()}}</h2>

      <input
        class="form-control"
        style="width: 70%; margin-left: 2rem"
        [(ngModel)]="CurrentSection.Name"
        (focus)="AddModifiedField('Name')"
        placeholder="Névtelen"
        *ngIf="ModifiedFields">
      <a (click)="ToggleEditSection()">
        <img class="icon icon-edit" src="assets/edit-icon.png">
      </a>
      <a (click)="DeleteSection()">
        <mdb-icon class="icon icon-delete" far icon="trash-alt"></mdb-icon>
      </a>
    </div>

    <hr>

    <div
      style="margin-left: 30px; margin-bottom: 1rem;" >
      <app-ingredient-adder-seamless *ngIf="ModifiedFields"
                                     (OnIngredientAdded)="OnAddIngredientToSection($event)"></app-ingredient-adder-seamless>
    </div>

    <div style="overflow: auto">
      <a *ngFor="let item of CurrentSection.Items; let i = index" [ngClass]="{'even': i % 2 == 0, 'odd': i % 2 == 1}"
         class="row rounded-panel-item" (click)="ToggleItemSelect(item)">

        <div *ngIf="SelectedItems.length > 0"
             class="custom-control custom-checkbox" style="padding-top: 5px; ">
          <input [ngModel]="SelectedItems.includes(item)" type="checkbox" class="custom-control-input">
          <label class="custom-control-label"></label>
        </div>


        <div class="row" style="margin-left: 1rem" *ngIf="!ModifiedFields">
          <label>{{item.value}}</label>
          <label
            style="margin-left: .5rem; margin-right: .5rem;">{{unitService.GetUnit(item.unit, ingredientService.GetIngredient(item.ingredientID)).name}}</label>
          <label>{{ingredientService.GetIngredient(item.ingredientID).name}}</label>
        </div>

        <div class="row" style="margin-left: 1rem; width: 100%; position: relative" *ngIf="ModifiedFields">
          <input type="number" style="width: 4rem" [(ngModel)]="item.value" (input)="AddModifiedField('Items')">
          <label
            style="margin-left: .5rem; margin-right: .5rem">{{unitService.GetUnit(item.unit, ingredientService.GetIngredient(item.ingredientID)).name}}</label>
          <label>{{ingredientService.GetIngredient(item.ingredientID).name}}</label>

          <a (click)="DeleteItem(item)" style="position: absolute; right: 3rem;">
            <mdb-icon class="icon" far icon="trash-alt"></mdb-icon>
          </a>
        </div>


      </a>
    </div>
  </div>
</div>
